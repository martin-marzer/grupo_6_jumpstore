<!DOCTYPE html>
<html lang="en">

<head>
    <title>Profile</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link rel='stylesheet' href='/css/profile.css'>
    <%- include("./partials/head") %>


</head>

<body>

    <%- include("./partials/header") %>

    <%- include("./partials/menuMobile") %>
    <main>
        <div class="container">
            <div class="breadcrumbs">
                <a href="/home">Home</a>
                <p> / </p>
                <a href="/profile">Cuenta</a>
            </div>
            <% switch (url[2]) {
            case 'edit-profile' : %>
            <h1>Datos Personales</h1>
            <div class="row justify-content-center">
                <div class="col-sm-8 col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <h2>Editar</h2>
                        </div>
                        <div class="card-body">
                            <form action="/profile/edit-profile?_method=PUT" class="edit-profile-form" method="POST"
                                name="profile" id="profile">

                               
                                <div class="form-group">
                                    <label class="form-control-label" for="username">
                                        Nombre De Usuario
                                    </label>
                                    <input type="text" class="form-control" id="username" name="username" required=""
                                        value="<%= user.username %>" min="2" maxlength="50">
                                </div> 

                                <div class="form-group">
                                    <label class="form-control-label" for="firstName">
                                        Nombre
                                    </label>
                                    <input type="text" class="form-control" id="firstName" name="firstname" required=""
                                        value="<%= user.name ? user.name : null %>" min="2" maxlength="50">
                                </div>

                                <div class="form-group">
                                    <label class="form-control-label" for="lastName">
                                        Apellido
                                    </label>
                                    <input type="text" class="form-control" id="lastName" name="lastname" required=""
                                        value="<%= user.lastname ? user.lastname : null %>" min="2" maxlength="50">
                                </div>



                                <div class="form-group">
                                    <label class="form-control-label" for="phone">
                                        Teléfono (cod. área + número)
                                    </label>
                                    <input type="text" class="form-control" id="phone" name="phone" required=""
                                        value="<%= user.phone ? user.phone : null %>" maxlength="15"
                                        pattern="^(?:(?:00)?549?)?0?(?:11|[2368]\d)(?:(?=\d{0,2}15)\d{2})??\d{8}$">
                                </div>

                                <div class="form-group required">
                                    <label class="form-control-label" for="email">
                                        Email
                                    </label>
                                    <input type="email" class="form-control" id="email" name="email" required=""
                                        value="<%= user.email %>" maxlength="50"
                                        pattern="^[\w.%+-]+@[\w.-]+\.[\w]{2,6}$">
                                </div>

                                <div class="form-group required">
                                    <label class="form-control-label" for="password">
                                        Contraseña
                                    </label>
                                    <input type="password" class="form-control" id="password"
                                        name="profile_login_password" required="" value="" maxlength="20"
                                        minlength="4">
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <a href="/profile"
                                            class="btn btn-block btn-outline-primary edit-profile-cancel">Cancelar</a>
                                    </div>

                                    <div class="col">
                                        <button type="submit" name="save"
                                            class="btn btn-save btn-block btn-primary edit-profile-save">Actualizar</button>
                                    </div>
                                </div>
                            </form>
                            <div class="row">
                                <div class="col text-center">
                                    <a href="/profile" class="profile-back-to-account-link">
                                        &lt; Volver a Mi Cuenta</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <% break;
            
            case 'password' : %>
            <h1>Contraseña</h1>
            <div class="row justify-content-center">
                <div class="col-sm-8 col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <h2>Cambiar</h2>
                        </div>
                        <div class="card-body">
                            <form action="/profile/password?_method=PUT" class="change-password-form" method="POST"
                                name="profile" id="profile">

                                <div class="form-group required">
                                    <label class="form-control-label" for="currentPassword">
                                        Contraseña Actual
                                    </label>
                                    <input type="password" class="form-control" id="currentPassword"
                                        name="currentpassword" required="" value="" maxlength="20" minlength="4">
                                </div>

                                <div class="form-group required">
                                    <label class="form-control-label" for="newPassword">
                                        Nueva Contraseña
                                    </label>
                                    <input type="password" class="form-control" id="newPassword" name="newpassword"
                                        required="" value="" maxlength="20" minlength="4">
                                </div>

                                <div class="form-group required">
                                    <label class="form-control-label" for="newPasswordConfirm">
                                        Confirmar Nueva Contraseña
                                    </label>
                                    <input type="password" class="form-control" id="newPasswordConfirm"
                                        name="newpasswordconfirm" required="" value="" maxlength="20" minlength="4">
                                </div>


                                <div class="row controls-container">
                                    <div class="col">
                                        <a href="/profile" class="btn btn-block ">Cancelar</a>
                                    </div>

                                    <div class="col">
                                        <button type="submit" name="save" class="btn btn-block ">Guardar</button>
                                    </div>
                                </div>

                            </form>
                            <div class="row">
                                <div class="col text-center">
                                    <a href="/profile" class="profile-back-to-account-link">
                                        &lt; Volver a Mi Cuenta</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <% break;
            
            case 'payment' : %>
            <h1>Metodo de Pago</h1>
            <% if (user.payment) { %>
                <div class="row justify-content-center">
                    <div class="col-sm-8 col-md-8">
                        <div class="card">
                            <div class="card-header">

                                <h2>Editar</h2>

                            </div>
                            <div class="card-body">
                                <form action="/profile/payment?_method=PUT" class="payment-form" method="POST"
                                    name="payment-form">

                                    <!-- Card Number -->
                                    <div class="form-group required">
                                        <label class="form-control-label" for="cardNumber">
                                            Número de la Tarjeta
                                        </label>
                                        <div class="card-number-wrapper">
                                            <input type="text" class="form-control" id="cardNumber" name="cardNumber"
                                                required=""  value="<%= user.payment.card %>" maxlength="24">
                                        </div>
                                    </div>
                            


                                    <!-- Name on Card -->
                                    <div class="form-group required">
                                        <label class="form-control-label" for="cardOwner">
                                            Nombre del Titular (tal como aparece en la tarjeta)
                                        </label>
                                        <input type="text" class="form-control" id="cardOwner" name="cardOwner" required=""
                                        value="<%= user.payment.name %>" maxlength="30" autocomplete="cc-name">


                                    </div>
                        


                                    <!-- Month -->
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group required">
                                                <label class="form-control-label" for="month">
                                                    Mes de Expiración
                                                </label>
                                                <select class="form-control custom-select" id="month" name="expirationMonth" required="">

                                                    <option id="" value="">Seleccionar</option>

                                                    <option id="01" value="1">01</option>

                                                    <option id="02" value="2">02</option>

                                                    <option id="03" value="3">03</option>

                                                    <option id="04" value="4">04</option>

                                                    <option id="05" value="5">05</option>

                                                    <option id="06" value="6">06</option>

                                                    <option id="07" value="7">07</option>

                                                    <option id="08" value="8">08</option>

                                                    <option id="09" value="9">09</option>

                                                    <option id="10" value="10">10</option>

                                                    <option id="11" value="11">11</option>

                                                    <option id="12" value="12">12</option>

                                                </select>


                                            </div>
                                        </div>

                                        <div class="col-6">
                                        <div class="form-group required">
                                            <label class="form-control-label" for="year">
                                                Año de Expiración
                                            </label>
                                            <select class="form-control custom-select" id="year" name="expirationYear" required="">
                                                <option value="">
                                                    Seleccionar</option>

                                                <option id="2021" value="2021">2021</option>

                                                <option id="2022" value="2022">2022</option>

                                                <option id="2023" value="2023">2023</option>

                                                <option id="2024" value="2024">2024</option>

                                                <option id="2025" value="2025">2025</option>

                                                <option id="2026" value="2026">2026</option>

                                                <option id="2027" value="2027">2027</option>

                                                <option id="2028" value="2028">2028</option>

                                                <option id="2029" value="2029">2029</option>

                                                <option id="2030" value="2030">2030</option>

                                            </select>

                                        </div>
                                    </div>
                                    </div>

    


                                    <!-- Id of Card -->
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group required">
                                                <label class="form-control-label" for="id">
                                                    DNI del Titular
                                                </label>
                                                <input type="text" class="form-control" id="id" name="identification" required=""  value="<%= user.payment.dni %>"
                                                    maxlength="9">

                                            </div>
                                        </div>
                                    </div>


                                    <!-- Cancel and Save Buttons -->
                                    <div class="row">
                                        <div class="col">
                                            <a href="/profile" class="btn btn-block btn-outline-primary">
                                                Cancelar</a>
                                        </div>
                                        <div class="col">
                                            <button type="submit" name="save" class="btn btn-save btn-block btn-primary">
                                                Guardar</button>
                                        </div>
                                    </div>

                                </form>

                                <div class="row">
                                    <div class="col text-center">
                                        <a href="/profile" class="profile-back-to-account-link">
                                            &lt; Volver a Mi Cuenta</a>
                                    </div>
                                </div>

                            </div>
                                
                        </div>
                    </div>
                </div>
            <% } else { %>
                <div class="row justify-content-center">
                    <div class="col-sm-8 col-md-8">
                        <div class="card">
                            <div class="card-header">

                                <h2>Nuevo Método de Pago</h2>

                            </div>
                            <div class="card-body">
                                <form action="/profile/payment" class="payment-form" method="POST"
                                    name="payment-form">

                                    <!-- Card Number -->
                                    <div class="form-group required">
                                        <label class="form-control-label" for="cardNumber">
                                            Número de la Tarjeta
                                        </label>
                                        <div class="card-number-wrapper">
                                            <input type="text" class="form-control" id="cardNumber" name="cardNumber"
                                                required="" value="" maxlength="24">
                                        </div>
                                    </div>
                            


                                    <!-- Name on Card -->
                                    <div class="form-group required">
                                        <label class="form-control-label" for="cardOwner">
                                            Nombre del Titular (tal como aparece en la tarjeta)
                                        </label>
                                        <input type="text" class="form-control" id="cardOwner" name="cardOwner" required=""
                                            aria-required="true" value="" maxlength="30" autocomplete="cc-name">


                                    </div>
                        


                                    <!-- Month -->
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group required">
                                                <label class="form-control-label" for="month">
                                                    Mes de Expiración
                                                </label>
                                                <select class="form-control custom-select" id="month" name="expirationMonth" required=""
                                                    autocomplete="cc-exp-month">

                                                    <option id="" value="">Seleccionar</option>

                                                    <option id="01" value="1">01</option>

                                                    <option id="02" value="2">02</option>

                                                    <option id="03" value="3">03</option>

                                                    <option id="04" value="4">04</option>

                                                    <option id="05" value="5">05</option>

                                                    <option id="06" value="6">06</option>

                                                    <option id="07" value="7">07</option>

                                                    <option id="08" value="8">08</option>

                                                    <option id="09" value="9">09</option>

                                                    <option id="10" value="10">10</option>

                                                    <option id="11" value="11">11</option>

                                                    <option id="12" value="12">12</option>

                                                </select>


                                            </div>
                                        </div>

                                        <div class="col-6">
                                        <div class="form-group required">
                                            <label class="form-control-label" for="year">
                                                Año de Expiración
                                            </label>
                                            <select class="form-control custom-select" id="year" name="expirationYear" required="">
                                                <option value="">
                                                    Seleccionar</option>

                                                <option id="2021" value="2021">2021</option>

                                                <option id="2022" value="2022">2022</option>

                                                <option id="2023" value="2023">2023</option>

                                                <option id="2024" value="2024">2024</option>

                                                <option id="2025" value="2025">2025</option>

                                                <option id="2026" value="2026">2026</option>

                                                <option id="2027" value="2027">2027</option>

                                                <option id="2028" value="2028">2028</option>

                                                <option id="2029" value="2029">2029</option>

                                                <option id="2030" value="2030">2030</option>

                                            </select>

                                        </div>
                                    </div>
                                    </div>


                                    <!-- Id of Card -->
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group required">
                                                <label class="form-control-label" for="id">
                                                    DNI del Titular
                                                </label>
                                                <input type="text" class="form-control" id="id" name="identification" required="" value=""
                                                    maxlength="10">

                                            </div>
                                        </div>
                                    </div>


                                    <!-- Cancel and Save Buttons -->
                                    <div class="row">
                                        <div class="col">
                                            <a href="/profile" class="btn btn-block btn-outline-primary">
                                                Cancelar</a>
                                        </div>
                                        <div class="col">
                                            <button type="submit" name="save" class="btn btn-save btn-block btn-primary">
                                                Guardar</button>
                                        </div>
                                    </div>

                                </form>

                                <div class="row">
                                    <div class="col text-center">
                                        <a href="/profile" class="profile-back-to-account-link">
                                            &lt; Volver a Mi Cuenta</a>
                                    </div>
                                </div>

                            </div>
                                
                        </div>
                    </div>
                </div>
            <% } %>

            <% break;
            
            case 'address' : %>
            <h1>Dirección</h1>
            <% if (user.address) { %>
                <div class="row justify-content-center">
                    <div class="col-sm-8 col-md-6">
                        <div class="card">
                            <div class="card-header edit-add-address">

                                <h2>Editar</h2>

                            </div>
                            <div class="card-body">
                                <form action="/profile/address?_method=PUT" class="address-form edit-address-form"
                                    method="POST" name="address" id="address">


                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group required address_address1">
                                                <label class="form-control-label" for="editAddressOnenull">
                                                    Calle
                                                </label>
                                                <input type="text" class="form-control editAddressOne"
                                                    id="editAddressOnenull" aria-describedby="nullAddressLine1" value="<%= user.address.street %>"
                                                    name="address_street" required="" maxlength="50">


                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-6 col-xs-12">
                                            <div class="form-group required address_postalCode">
                                                <label class="form-control-label" for="shippingZipCodenull">
                                                    Código Postal
                                                </label>
                                                <input type="text" class="form-control shippingZipCode" id="shippingZipCodenull"
                                                    value="<%= user.address.postal_code %>" name="address_postalCode" required=""
                                                    maxlength="10" minlength="4" pattern="^[0-9]*$">
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-xs-12">
                                            <div class="form-group required address_city">
                                                <label class="form-control-label" for="shippingAddressCitynull">
                                                    Partido
                                                </label>
                                                <input type="text" class="form-control shippingAddressCity" id="shippingAddressCitynull"
                                                value="<%= user.address.city %>" name="address_city" required="" maxlength="40" minlength="2">
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group required address_states_stateCode">
                                                <label class="form-control-label" for="shippingStatenull">
                                                    Provincia
                                                </label>
                                                <select class="form-control shippingState custom-select" id="shippingStatenull"
                                                    name="address_state" required="">

                                                    <option id="" value="">Seleccionar
                                                    </option>

                                                    <option id="A" value="A">Salta
                                                    </option>

                                                    <option id="B" value="B">Provincia de Buenos Aires
                                                    </option>

                                                    <option id="C" value="C">Ciudad Autónoma de Buenos Aires
                                                    </option>

                                                    <option id="D" value="D">San Luis
                                                    </option>

                                                    <option id="E" value="E">Entre Ríos
                                                    </option>

                                                    <option id="F" value="F">La Rioja
                                                    </option>

                                                    <option id="G" value="G">Santiago del Estero
                                                    </option>

                                                    <option id="H" value="H">Chaco
                                                    </option>

                                                    <option id="J" value="J">San Juan
                                                    </option>

                                                    <option id="K" value="K">Catamarca
                                                    </option>

                                                    <option id="L" value="L">La Pampa
                                                    </option>

                                                    <option id="M" value="M">Mendoza
                                                    </option>

                                                    <option id="N" value="N">Misiones
                                                    </option>

                                                    <option id="P" value="P">Formosa
                                                    </option>

                                                    <option id="Q" value="Q">Neuquén
                                                    </option>

                                                    <option id="R" value="R">Río Negro
                                                    </option>

                                                    <option id="S" value="S">Santa Fe
                                                    </option>

                                                    <option id="T" value="T">Tucumán
                                                    </option>

                                                    <option id="U" value="U">Chubut
                                                    </option>

                                                    <option id="W" value="W">Corrientes
                                                    </option>

                                                    <option id="X" value="X">Córdoba
                                                    </option>

                                                    <option id="Y" value="Y">Jujuy
                                                    </option>

                                                    <option id="Z" value="Z">Santa Cruz
                                                    </option>

                                                </select>

                                            </div>
                                        </div>
                                    </div>

                                    <!-- Cancel and Save Buttons -->
                                    <div class="row">
                                        <div class="col-6">
                                            <a href="/profile" class="btn btn-block btn-outline-primary edit-address-cancel">Cancelar</a>
                                        </div>
                                        <div class="col-6">
                                            <button type="submit" name="save"
                                                class="btn btn-save btn-block btn-primary edit-address-save">Guardar</button>
                                        </div>
                                    </div>

                                </form>
                                    <div class="row">
                                        <div class="col text-center">
                                            <a href="/profile" class="profile-back-to-account-link">
                                                &lt; Volver a Mi Cuenta</a>
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
            <% } else { %>    
                <div class="row justify-content-center">
                    <div class="col-sm-8 col-md-6">
                        <div class="card">
                            <div class="card-header edit-add-address">

                                <h2>+ Nueva Dirección</h2>

                            </div>
                            <div class="card-body">
                                <form action="/profile/address" class="address-form edit-address-form"
                                    method="POST" name="address" id="address">


                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group required address_address1">
                                                <label class="form-control-label" for="editAddressOnenull">
                                                    Calle
                                                </label>
                                                <input type="text" class="form-control editAddressOne"
                                                    id="editAddressOnenull" aria-describedby="nullAddressLine1" value=""
                                                    name="address_street" required="" maxlength="50"
                                                    autocomplete="edit address-line1">


                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-sm-6 col-xs-12">
                                            <div class="form-group required address_postalCode">
                                                <label class="form-control-label" for="shippingZipCodenull">
                                                    Código Postal
                                                </label>
                                                <input type="text" class="form-control shippingZipCode" id="shippingZipCodenull"
                                                    aria-describedby="nullZipCode" value="" name="address_postalCode" required=""
                                                     maxlength="10" minlength="2" pattern="^[0-9]*$">
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-xs-12">
                                            <div class="form-group required address_city">
                                                <label class="form-control-label" for="shippingAddressCitynull">
                                                    Partido
                                                </label>
                                                <input type="text" class="form-control shippingAddressCity" id="shippingAddressCitynull"
                                                value="" name="address_city" required="" maxlength="40" minlength="2">
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group required address_states_stateCode">
                                                <label class="form-control-label" for="shippingStatenull">
                                                    Provincia
                                                </label>
                                                <select class="form-control shippingState custom-select" id="shippingStatenull"
                                                    name="address_state" required="">

                                                    <option id="" value="">Seleccionar
                                                    </option>

                                                    <option id="A" value="A">Salta
                                                    </option>

                                                    <option id="B" value="B">Provincia de Buenos Aires
                                                    </option>

                                                    <option id="C" value="C">Ciudad Autónoma de Buenos Aires
                                                    </option>

                                                    <option id="D" value="D">San Luis
                                                    </option>

                                                    <option id="E" value="E">Entre Ríos
                                                    </option>

                                                    <option id="F" value="F">La Rioja
                                                    </option>

                                                    <option id="G" value="G">Santiago del Estero
                                                    </option>

                                                    <option id="H" value="H">Chaco
                                                    </option>

                                                    <option id="J" value="J">San Juan
                                                    </option>

                                                    <option id="K" value="K">Catamarca
                                                    </option>

                                                    <option id="L" value="L">La Pampa
                                                    </option>

                                                    <option id="M" value="M">Mendoza
                                                    </option>

                                                    <option id="N" value="N">Misiones
                                                    </option>

                                                    <option id="P" value="P">Formosa
                                                    </option>

                                                    <option id="Q" value="Q">Neuquén
                                                    </option>

                                                    <option id="R" value="R">Río Negro
                                                    </option>

                                                    <option id="S" value="S">Santa Fe
                                                    </option>

                                                    <option id="T" value="T">Tucumán
                                                    </option>

                                                    <option id="U" value="U">Chubut
                                                    </option>

                                                    <option id="W" value="W">Corrientes
                                                    </option>

                                                    <option id="X" value="X">Córdoba
                                                    </option>

                                                    <option id="Y" value="Y">Jujuy
                                                    </option>

                                                    <option id="Z" value="Z">Santa Cruz
                                                    </option>

                                                </select>

                                            </div>
                                        </div>
                                    </div>

                                    <!-- Cancel and Save Buttons -->
                                    <div class="row">
                                        <div class="col-6">
                                            <a href="/profile" class="btn btn-block btn-outline-primary edit-address-cancel">Cancelar</a>
                                        </div>
                                        <div class="col-6">
                                            <button type="submit" name="save"
                                                class="btn btn-save btn-block btn-primary edit-address-save">Guardar</button>
                                        </div>
                                    </div>

                                </form>
                                    <div class="row">
                                        <div class="col text-center">
                                            <a href="/profile" class="profile-back-to-account-link">
                                                &lt; Volver a Mi Cuenta</a>
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
            <% } %>
 
        <% break;
            } %>
        </div>
    </main>

    <%- include("./partials/footer") %>
    <%- include("./partials/scripts") %>

</body>
</html>